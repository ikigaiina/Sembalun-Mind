# Sembalun - Advanced Indonesian Meditation Platform ğŸ§˜â€â™€ï¸

> **Production-Ready** â€¢ **AI-Powered Personalization** â€¢ **Culturally Authentic** â€¢ **Enterprise-Grade**

[![Production Status](https://img.shields.io/badge/status-production_ready-green.svg)](https://sembalun-app.vercel.app)
[![React](https://img.shields.io/badge/React-19.1.0-blue.svg)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8.3-blue.svg)](https://www.typescriptlang.org/)
[![Supabase](https://img.shields.io/badge/Supabase-2.53.0-green.svg)](https://supabase.com/)
[![Vite](https://img.shields.io/badge/Vite-7.0.4-purple.svg)](https://vitejs.dev/)
[![TailwindCSS](https://img.shields.io/badge/TailwindCSS-4.1.11-blue.svg)](https://tailwindcss.com/)
[![Framer Motion](https://img.shields.io/badge/Framer_Motion-12.23.12-orange.svg)](https://www.framer.com/motion/)
[![Multi-Agent](https://img.shields.io/badge/Multi_Agent-Enabled-brightgreen.svg)]()[![Indonesian Cultural](https://img.shields.io/badge/Indonesian_Cultural-Authentic-yellow.svg)]()

## ğŸ§˜â€â™€ï¸ Overview

**Sembalun** is a sophisticated, production-ready Indonesian meditation platform that represents the next generation of mindfulness applications. It seamlessly blends cutting-edge AI personalization technology with authentic Indonesian cultural wisdom across four major traditions (Javanese, Balinese, Sundanese, Minangkabau).

Featuring a **60+ service architecture**, **multi-agent task orchestration**, and **enterprise-grade performance monitoring**, Sembalun delivers deeply personalized meditation experiences that adapt to user behavior, cultural preferences, and environmental context.

### ğŸ¯ Mission
To revolutionize mindfulness practice by delivering deeply personalized meditation experiences rooted in Indonesian cultural authenticity, powered by advanced AI personalization and multi-agent coordination systems.

### âœ¨ Advanced Features

#### ğŸ¤– AI-Powered Personalization Engine
- **Behavioral Analytics**: Deep learning from 60+ user interaction patterns
- **Mood-Based Adaptation**: Content automatically adjusts to emotional state
- **Smart Scheduling**: AI-optimized meditation timing recommendations
- **Cultural Context Awareness**: Indonesian tradition-specific personalization
- **Predictive Insights**: Forecasts optimal meditation times and content

#### ğŸ›ï¸ Authentic Indonesian Cultural Integration
- **Four Regional Traditions**: Javanese, Balinese, Sundanese, Minangkabau meditation systems
- **Cultural Design Cards**: Authentic regional patterns (batik-kawung, pura-ornament, bamboo-motif, rumah-gadang)
- **Traditional Wisdom Integration**: Daily Indonesian proverbs and spiritual guidance
- **Regional Music**: Traditional Indonesian ambient sounds and gamelan
- **Cultural Calendar Awareness**: Meditation aligned with Indonesian cultural events

#### ğŸš€ Enterprise-Grade Technical Excellence
- **Multi-Agent System**: 5+ specialized AI agents for task orchestration and coordination
- **60+ Specialized Services**: Modular architecture with single-responsibility services
- **Offline-First Architecture**: Complete functionality without internet connection
- **Real-time Synchronization**: Conflict-free cross-device data consistency
- **Performance Monitoring**: Enterprise-grade telemetry and Core Web Vitals tracking
- **Indonesian Network Optimization**: Adaptive quality for local network conditions

#### ğŸ¨ Design System 2025
- **Indonesian Cultural Cards**: Authentic ornamental patterns and regional color schemes
- **Personalized Dashboard**: AI-driven layout adaptation based on user preferences
- **Adaptive Theming**: Dynamic styling based on cultural preferences and accessibility needs
- **WCAG 2.1 AA Compliance**: Full accessibility with screen reader and keyboard support
- **Mobile-First Indonesian UX**: Optimized for Indonesian mobile usage patterns

## ğŸ—ï¸ Advanced Technical Architecture

### Multi-Context State Management
- **SupabaseAuthContext** - Advanced authentication with guest mode and profile management
- **PersonalizationContext** - AI-driven user preference and behavior analytics engine
- **OfflineContext** - Comprehensive offline functionality with intelligent synchronization
- **ThemeContext** - Cultural theme management with Indonesian design tokens
- **OnboardingContext** - Complete user onboarding flow with cultural preferences

### Frontend Excellence
- **React 19.1.0** - Latest React with concurrent rendering and server components
- **TypeScript 5.8.3** - Full type safety with advanced cultural type systems
- **Vite 7.0.4** - Optimized build with Indonesian mobile network optimizations
- **TailwindCSS 4.1.11** - Custom Indonesian cultural design tokens and utilities
- **Framer Motion 12.23.12** - Advanced animations with cultural-sensitive motion design

### Service Layer Architecture (60+ Services)
- **Cultural Services** - Indonesian wisdom integration, cultural personalization
- **Analytics Services** - Behavioral tracking, mood analysis, progress insights
- **Multi-Agent Services** - Task orchestration, agent coordination, intelligent task distribution
- **Offline Services** - IndexedDB management, intelligent sync, conflict resolution
- **Performance Services** - Core Web Vitals tracking, Indonesian network optimization

### Backend & Infrastructure
- **Supabase** - Production-grade Backend-as-a-Service
  - Advanced PostgreSQL with JSONB cultural data structures
  - Row Level Security with user isolation and cultural data protection
  - Real-time subscriptions with conflict-free synchronization
  - Multi-bucket storage with Indonesian cultural content CDN
- **Enterprise Monitoring** - Performance tracking, error reporting, cultural engagement analytics

### Quality & Performance
- **Vitest 3.2.4** - Fast unit testing with cultural context testing
- **Playwright 1.54.2** - End-to-end testing across Indonesian mobile devices
- **ESLint 9.30.1** - Comprehensive linting with Indonesian development rules
- **Enterprise Performance Monitor** - Real-time performance optimization

## ğŸ“ Advanced Project Architecture

```
Sembalun Production Architecture/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/              # 80+ Advanced Components
â”‚   â”‚   â”œâ”€â”€ ui/                 # Core UI with Indonesian design system
â”‚   â”‚   â”œâ”€â”€ cultural/           # Indonesian cultural components (cards, wisdom, patterns)
â”‚   â”‚   â”œâ”€â”€ analytics/          # Behavioral analytics and progress insights
â”‚   â”‚   â”œâ”€â”€ onboarding/         # Complete cultural personalization onboarding
â”‚   â”‚   â”œâ”€â”€ personalization/    # AI personalization and recommendation components
â”‚   â”‚   â”œâ”€â”€ multiagent/         # Multi-agent system interface and coordination
â”‚   â”‚   â”œâ”€â”€ auth/               # Advanced authentication with guest mode
â”‚   â”‚   â”œâ”€â”€ admin/              # Admin dashboard with cultural analytics
â”‚   â”‚   â”œâ”€â”€ account/            # User profile with cultural preferences
â”‚   â”‚   â”œâ”€â”€ meditation/         # Advanced meditation timer and guidance
â”‚   â”‚   â”œâ”€â”€ notifications/      # Smart notification system
â”‚   â”‚   â””â”€â”€ tracking/           # Comprehensive progress tracking
â”‚   â”œâ”€â”€ pages/                  # 30+ Page components with cultural routing
â”‚   â”œâ”€â”€ contexts/               # 5 Specialized contexts for state management
â”‚   â”‚   â”œâ”€â”€ SupabaseAuthContext    # Authentication with cultural profiles
â”‚   â”‚   â”œâ”€â”€ PersonalizationContext # AI personalization engine
â”‚   â”‚   â”œâ”€â”€ OfflineContext         # Offline-first with intelligent sync
â”‚   â”‚   â”œâ”€â”€ ThemeContext           # Cultural theme management
â”‚   â”‚   â””â”€â”€ OnboardingContext      # Cultural preference onboarding
â”‚   â”œâ”€â”€ services/               # 60+ Specialized Services
â”‚   â”‚   â”œâ”€â”€ api/               # Supabase integration services
â”‚   â”‚   â”œâ”€â”€ analytics/         # Behavioral and cultural analytics
â”‚   â”‚   â”œâ”€â”€ cultural/          # Indonesian wisdom and tradition services
â”‚   â”‚   â”œâ”€â”€ multiagent/        # Multi-agent coordination services
â”‚   â”‚   â”œâ”€â”€ offline/           # Offline queue and synchronization
â”‚   â”‚   â””â”€â”€ performance/       # Enterprise performance monitoring
â”‚   â”œâ”€â”€ types/                  # Comprehensive TypeScript definitions
â”‚   â”‚   â”œâ”€â”€ auth.ts            # Authentication and user profiles
â”‚   â”‚   â”œâ”€â”€ cultural.ts        # Indonesian cultural type system
â”‚   â”‚   â”œâ”€â”€ personalization.ts # AI personalization interfaces
â”‚   â”‚   â””â”€â”€ multiagent.ts      # Multi-agent system types
â”‚   â”œâ”€â”€ utils/                  # Indonesian-specific utilities
â”‚   â”‚   â”œâ”€â”€ indonesian-mobile-optimization.ts
â”‚   â”‚   â”œâ”€â”€ cultural-personalization.ts
â”‚   â”‚   â””â”€â”€ enterprise-performance-monitor.ts
â”‚   â”œâ”€â”€ design-system/         # Indonesian Cultural Design System 2025
â”‚   â”‚   â”œâ”€â”€ foundations/       # Design tokens and cultural colors
â”‚   â”‚   â”œâ”€â”€ components/        # Cultural component specifications
â”‚   â”‚   â””â”€â”€ themes/           # Regional theme definitions
â”‚   â””â”€â”€ hooks/                 # Advanced custom hooks
â”œâ”€â”€ supabase/                  # Production database with cultural schema
â”œâ”€â”€ docs/                      # Comprehensive documentation
â”‚   â”œâ”€â”€ WIKI.md               # Complete project wiki
â”‚   â”œâ”€â”€ CULTURAL_INTEGRATION.md
â”‚   â”œâ”€â”€ PERSONALIZATION.md
â”‚   â”œâ”€â”€ MULTIAGENT_SYSTEM.md
â”‚   â””â”€â”€ INDONESIAN_OPTIMIZATION.md
â””â”€â”€ .claude-flow/             # Claude Flow AI coordination
    â”œâ”€â”€ metrics/              # Performance and coordination metrics
    â””â”€â”€ swarms/              # Multi-agent swarm configurations
```

### Multi-Context Provider Hierarchy
```typescript
<ThemeProvider>
  <OfflineProvider>
    <SupabaseAuthProvider>
      <PersonalizationProvider>
        <OnboardingProvider>
          <App /> // All contexts available with full coordination
        </OnboardingProvider>
      </PersonalizationProvider>
    </SupabaseAuthProvider>
  </OfflineProvider>
</ThemeProvider>
```

## ğŸš€ Getting Started

### Prerequisites
- Node.js 18.0 or later
- npm or yarn package manager
- Supabase account and project

### Environment Setup

1. **Clone the repository**
   ```bash
   git clone https://github.com/your-org/sembalun.git
   cd sembalun
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Environment Variables**
   
   Create `.env.local` file:
   ```env
   # Supabase Configuration
   VITE_SUPABASE_URL=your_supabase_project_url
   VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
   
   # App Configuration (Optional)
   VITE_APP_NAME=Sembalun
   VITE_APP_VERSION=1.0.0
   ```

4. **Database Setup**
   
   Run the Supabase migration:
   ```bash
   # Connect to your Supabase project
   npx supabase init
   npx supabase link --project-ref your-project-ref
   
   # Run migrations
   npx supabase db push
   ```

5. **Start Development Server**
   ```bash
   npm run dev
   ```

## ğŸ—„ï¸ Database Schema

### Core Tables

#### Users (`users`)
Extended user profiles with preferences and progress tracking.
- `id` (UUID, Primary Key)
- `email` (Text, Unique)
- `display_name` (Text)
- `avatar_url` (Text)
- `preferences` (JSONB) - User settings and preferences
- `progress` (JSONB) - Meditation progress and stats
- `created_at`, `updated_at` (Timestamps)

#### Meditation Sessions (`meditation_sessions`)
Records of completed meditation sessions.
- `id` (UUID, Primary Key)
- `user_id` (UUID, Foreign Key)
- `type` (Text) - 'breathing', 'guided', 'silent', 'walking'
- `duration_minutes` (Integer)
- `mood_before`, `mood_after` (Text)
- `notes` (Text)
- `completed_at` (Timestamp)

#### Courses (`courses`)
Available meditation courses and content.
- `id` (UUID, Primary Key)
- `title`, `description` (Text)
- `category`, `difficulty` (Text)
- `duration_minutes` (Integer)
- `instructor` (Text)
- `is_premium` (Boolean)
- `order_index` (Integer)

#### Journal Entries (`journal_entries`)
User reflection and journaling entries.
- `id` (UUID, Primary Key)
- `user_id` (UUID, Foreign Key)
- `title`, `content` (Text)
- `mood` (Text)
- `tags` (Text Array)
- `created_at`, `updated_at` (Timestamps)

### Security Features

- **Row Level Security (RLS)** enabled on all tables
- **User isolation** - Users can only access their own data
- **Secure authentication** with email/password and OAuth
- **Data validation** with database constraints
- **Automatic timestamps** with triggers

## ğŸ” Authentication System

### Authentication Flow

The app uses Supabase Auth with multiple authentication methods:

#### 1. Email/Password Authentication
- User registration with email verification
- Secure password-based login
- Password reset functionality

#### 2. OAuth Providers
- **Google Sign-in** - Quick authentication with Google accounts
- **Apple Sign-in** - iOS/macOS integration
- Automatic profile creation from OAuth data

#### 3. Guest Mode
- Try the app without registration
- Local storage for session data
- Migration to full account available

### Authentication Context

```typescript
interface SupabaseAuthContextType {
  user: SupabaseUser | null;
  session: Session | null;
  userProfile: UserProfile | null;
  loading: boolean;
  isGuest: boolean;
  
  // Authentication methods
  signInWithEmail: (email: string, password: string) => Promise<{error: AuthError | null}>;
  signUpWithEmail: (email: string, password: string, displayName?: string) => Promise<{error: AuthError | null}>;
  signInWithGoogle: () => Promise<{error: AuthError | null}>;
  signInWithApple: () => Promise<{error: AuthError | null}>;
  signOut: () => Promise<{error: AuthError | null}>;
  
  // Profile management
  updateUserProfile: (updates: Partial<UserProfile>) => Promise<{error: AuthError | null}>;
  deleteAccount: () => Promise<{error: AuthError | null}>;
  
  // Guest functionality
  continueAsGuest: () => void;
  migrateGuestData: () => Promise<void>;
}
```

## ğŸ¨ UI Components

### Design System

The app follows a consistent design system with:

#### Core Components

**Button (`src/components/ui/Button.tsx`)**
- Multiple variants: primary, secondary, outline, ghost
- Size options: sm, md, lg
- Loading states and disabled states
- Accessibility features

**Card (`src/components/ui/Card.tsx`)**
- Flexible container component
- Shadow and border variants
- Header, body, footer sections

**Input (`src/components/ui/Input.tsx`)**
- Form input with validation states
- Error message display
- Label and helper text support

#### Specialized Components

**MeditationTimer (`src/components/ui/MeditationTimer.tsx`)**
- Customizable meditation timer
- Multiple timer visualizations
- Sound alerts and vibration

**BreathingGuide (`src/components/ui/BreathingGuide.tsx`)**
- Animated breathing visualization
- Multiple breathing patterns
- Customizable timing and guidance

**AudioPlayer (`src/components/ui/AudioPlayer.tsx`)**
- Media player for guided meditations
- Playback speed control
- Background audio support

## ğŸ“± Features & Functionality

### 1. Meditation Sessions

#### Session Types
- **Guided Meditations**: Voice-guided sessions with various themes
- **Breathing Exercises**: Different breathing patterns and techniques
- **Silent Meditation**: Timer-based silent practice
- **Walking Meditation**: Mindful movement practices

#### Session Management
- Progress tracking during sessions
- Mood logging before/after sessions
- Personal notes and reflections
- Session history and analytics

### 2. Progress Tracking

#### Metrics Tracked
- Total meditation minutes
- Session streaks (current and longest)
- Favorite meditation categories
- Completion rates
- Mood trends over time

#### Visualizations
- Progress charts and graphs
- Streak calendars
- Category breakdowns
- Time-based analytics

### 3. User Personalization

#### Preferences System
```typescript
interface UserPreferences {
  theme: 'auto' | 'light' | 'dark';
  language: 'en' | 'id';
  notifications: {
    daily: boolean;
    reminders: boolean;
    achievements: boolean;
    weeklyProgress: boolean;
  };
  meditation: {
    defaultDuration: number;
    preferredVoice: string;
    backgroundSounds: boolean;
    guidanceLevel: 'minimal' | 'moderate' | 'detailed';
    musicVolume: number;
    voiceVolume: number;
  };
  accessibility: {
    reducedMotion: boolean;
    highContrast: boolean;
    fontSize: 'small' | 'medium' | 'large';
  };
}
```

### 4. Offline Capabilities

#### PWA Features
- Installable web app
- Offline session tracking
- Cached meditation content
- Background sync when online

#### Offline Storage
- IndexedDB for session data
- Local storage for preferences
- Service worker for caching

## ğŸ› ï¸ Development Workflows

### Available Scripts

```bash
# Development
npm run dev                 # Start development server
npm run build              # Production build
npm run build:fast         # Fast production build
npm run preview            # Preview production build

# Code Quality
npm run lint               # Run ESLint
npm run lint:fix           # Fix ESLint issues
npm run typecheck          # TypeScript type checking

# Testing
npm run test               # Run tests
npm run test:ui            # Run tests with UI
npm run test:coverage      # Generate coverage report

# Deployment
npm run build:vercel       # Build for Vercel deployment
npm run deploy:vercel      # Deploy to Vercel
```

### Development Guidelines

#### Code Style
- Use TypeScript for all new files
- Follow React functional component patterns
- Implement proper error handling
- Add JSDoc comments for complex functions
- Use meaningful variable and function names

#### Component Structure
```typescript
// Component template
interface ComponentProps {
  // Props definition
}

export const Component: React.FC<ComponentProps> = ({
  // Destructured props
}) => {
  // Hooks
  // State
  // Effects
  // Event handlers
  // Render
  return (
    <div>
      {/* JSX */}
    </div>
  );
};
```

#### Testing Strategy
- Unit tests for utility functions
- Component tests for UI components
- Integration tests for complex workflows
- E2E tests for critical user paths

## ğŸš€ Deployment

### Production Deployment

The app is deployed on Vercel with the following configuration:

#### Build Configuration
```typescript
// vite.config.deploy.ts
export default defineConfig({
  plugins: [react(), vitePWA(pwaConfig)],
  build: {
    outDir: 'dist',
    sourcemap: false,
    minify: 'terser',
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          supabase: ['@supabase/supabase-js'],
          router: ['react-router-dom']
        }
      }
    }
  }
});
```

#### Environment Variables
Production requires the following environment variables:
- `VITE_SUPABASE_URL`
- `VITE_SUPABASE_ANON_KEY`

#### Deployment Steps
1. **Build optimization**
   ```bash
   npm run build:vercel
   ```

2. **Deploy to Vercel**
   ```bash
   npm run deploy:vercel
   ```

3. **Post-deployment checks**
   - Health check endpoints
   - Authentication flow testing
   - Database connectivity verification

### Performance Optimizations

#### Bundle Optimization
- Code splitting by route
- Dynamic imports for heavy components
- Tree shaking for unused code
- Asset optimization

#### Runtime Performance
- React 19 concurrent features
- Memoization for expensive calculations
- Virtual scrolling for large lists
- Image lazy loading

#### PWA Optimizations
- Service worker caching
- Background sync
- Push notifications
- Install prompts

## ğŸ“Š Monitoring & Analytics

### Error Tracking
- Client-side error boundaries
- Supabase error monitoring
- Performance monitoring

### User Analytics
- Session tracking
- Feature usage analytics
- Performance metrics
- User engagement tracking

## ğŸ”§ Configuration

### Build Configurations

The project includes multiple Vite configurations:

- `vite.config.ts` - Development configuration
- `vite.config.production.ts` - Production optimization
- `vite.config.deploy.ts` - Deployment-specific settings
- `vite.config.minimal.ts` - Minimal build for testing

### PWA Configuration

```typescript
const pwaConfig: VitePWAOptions = {
  registerType: 'autoUpdate',
  includeAssets: ['favicon.ico', 'apple-touch-icon.png'],
  manifest: {
    name: 'Sembalun - Meditation & Mindfulness',
    short_name: 'Sembalun',
    description: 'Your personal meditation and mindfulness companion',
    theme_color: '#4f46e5',
    icons: [
      {
        src: 'pwa-192x192.png',
        sizes: '192x192',
        type: 'image/png'
      }
    ]
  }
};
```

## ğŸ“š API Reference

### Supabase Services

#### Authentication Service (`src/services/supabaseAuthService.ts`)
```typescript
class SupabaseAuthService {
  static async signUp(data: SignUpData): Promise<AuthResponse>
  static async signIn(data: SignInData): Promise<AuthResponse>
  static async signOut(): Promise<{error: AuthError | null}>
  static async resetPassword(data: ResetPasswordData): Promise<{error: AuthError | null}>
}
```

#### Database Service (`src/services/supabaseDatabaseService.ts`)
```typescript
class SupabaseDatabaseService {
  static async getUser(userId: string): Promise<UserProfile | null>
  static async updateUser(userId: string, updates: UserUpdate): Promise<{error: any}>
  static async getMeditationSessions(userId: string): Promise<MeditationSession[]>
  static async createMeditationSession(session: MeditationSessionInsert): Promise<{error: any}>
}
```

### Hooks API

#### useAuth
```typescript
const {
  user,
  userProfile,
  loading,
  isGuest,
  signIn,
  signOut,
  updateProfile
} = useAuth();
```

#### useProgress
```typescript
const {
  totalSessions,
  totalMinutes,
  currentStreak,
  addSession,
  getWeeklyProgress
} = useProgress();
```

## ğŸ¤ Contributing

### Development Setup
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests for new functionality
5. Run the test suite
6. Submit a pull request

### Code Review Process
- All PRs require review from maintainers
- Automated testing must pass
- Code must follow established patterns
- Documentation updates required for new features

## ğŸ“„ License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- **Design Inspiration**: Indonesian meditation traditions and Mount Rinjani
- **Icons**: Lucide React icon library
- **Backend**: Supabase for providing excellent BaaS platform
- **Hosting**: Vercel for reliable deployment platform
- **Community**: React and TypeScript communities for excellent tooling

## ğŸ“ Support

For support and questions:
- ğŸ“§ Email: support@sembalun.app
- ğŸ› Issues: [GitHub Issues](https://github.com/your-org/sembalun/issues)
- ğŸ“– Documentation: [Project Wiki](https://github.com/your-org/sembalun/wiki)
- ğŸ’¬ Discussions: [GitHub Discussions](https://github.com/your-org/sembalun/discussions)

---

Built with â¤ï¸ for mindfulness practitioners everywhere.